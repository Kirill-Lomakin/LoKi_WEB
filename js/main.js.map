{"version":3,"file":"main.js","sourceRoot":"","sources":["C:\\sites\\loki\\assets\\js\\main.coffee"],"names":[],"mappings":"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","sourcesContent":["camera = undefined\r\nscene = undefined\r\nrenderer = undefined\r\ngeometry = undefined\r\nmaterial = undefined\r\nmesh = undefined\r\n\r\ninit = ->\r\n  stats = new Stats\r\n  stats.setMode 0\r\n  stats.domElement.style.position = 'absolute'\r\n  stats.domElement.style.left = '0px'\r\n  stats.domElement.style.top = '0px'\r\n  document.body.appendChild stats.domElement\r\n  clock = new (THREE.Clock)\r\n  renderer = new (THREE.WebGLRenderer)\r\n  renderer.setSize window.innerWidth, window.innerHeight\r\n  scene = new (THREE.Scene)\r\n  camera = new (THREE.PerspectiveCamera)(75, window.innerWidth / window.innerHeight, 1, 10000)\r\n  camera.position.z = 1000\r\n  scene.add camera\r\n  geometry = new (THREE.CubeGeometry)(200, 200, 200)\r\n  material = new (THREE.MeshLambertMaterial)(\r\n    color: 0xaa6666\r\n    wireframe: false)\r\n  mesh = new (THREE.Mesh)(geometry, material)\r\n  #scene.add( mesh );\r\n  cubeSineDriver = 0\r\n  textGeo = new (THREE.PlaneGeometry)(300, 300)\r\n  THREE.ImageUtils.crossOrigin = ''\r\n  #Need this to pull in crossdomain images from AWS\r\n  textTexture = THREE.ImageUtils.loadTexture('https://s3-us-west-2.amazonaws.com/s.cdpn.io/95637/quickText.png')\r\n  textMaterial = new (THREE.MeshLambertMaterial)(\r\n    color: 0x00ffff\r\n    opacity: 1\r\n    map: textTexture\r\n    transparent: true\r\n    blending: THREE.AdditiveBlending)\r\n  text = new (THREE.Mesh)(textGeo, textMaterial)\r\n  text.position.z = 800\r\n  scene.add text\r\n  light = new (THREE.DirectionalLight)(0xffffff, 0.5)\r\n  light.position.set -1, 0, 1\r\n  scene.add light\r\n  smokeTexture = THREE.ImageUtils.loadTexture('https://s3-us-west-2.amazonaws.com/s.cdpn.io/95637/Smoke-Element.png')\r\n  smokeMaterial = new (THREE.MeshLambertMaterial)(\r\n    color: 0x00dddd\r\n    map: smokeTexture\r\n    transparent: true)\r\n  smokeGeo = new (THREE.PlaneGeometry)(300, 300)\r\n  smokeParticles = []\r\n  p = 0\r\n  while p < 150\r\n    particle = new (THREE.Mesh)(smokeGeo, smokeMaterial)\r\n    particle.position.set Math.random() * 500 - 250, Math.random() * 500 - 250, Math.random() * 1000 - 100\r\n    particle.rotation.z = Math.random() * 360\r\n    scene.add particle\r\n    smokeParticles.push particle\r\n    p++\r\n  document.body.appendChild renderer.domElement\r\n  return\r\n\r\nanimate = ->\r\n  # note: three.js includes requestAnimationFrame shim\r\n  stats.begin()\r\n  delta = clock.getDelta()\r\n  requestAnimationFrame animate\r\n  evolveSmoke()\r\n  render()\r\n  stats.end()\r\n  return\r\n\r\nevolveSmoke = ->\r\n  sp = smokeParticles.length\r\n  while sp--\r\n    smokeParticles[sp].rotation.z += delta * 0.2\r\n  return\r\n\r\nrender = ->\r\n  mesh.rotation.x += 0.005\r\n  mesh.rotation.y += 0.01\r\n  cubeSineDriver += .01\r\n  mesh.position.z = 100 + Math.sin(cubeSineDriver) * 500\r\n  renderer.render scene, camera\r\n  return\r\n\r\ninit()\r\nanimate()\r\n\r\n# ---\r\n# generated by js2coffee 2.2.0"]}